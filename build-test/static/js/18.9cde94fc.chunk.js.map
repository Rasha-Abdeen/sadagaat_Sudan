{"version":3,"sources":["components/images/venue_location_icon.svg","components/projects/slider.js","components/projects/step_slider.js","components/projects/VenueLocationIcon.js","components/projects/single-withSlider.js"],"names":["module","exports","Slider","props","state","images","slidesPerScroll","autoPlay","rtl","arrowLeft","className","style","margin","arrowRight","addArrowClickHandler","infinite","clickToChange","centered","breakpoints","1000","slidesPerPage","500","animationSpeed","this","map","image","maxHeight","width","src","address","name","alt","height","Component","StepSlider","media","length","marginLeft","marginRight","mediaItem","type","item","controls","playIcon","url","VenueLocationIcon","L","icon","iconUrl","require","iconRetinaUrl","iconAnchor","shadowUrl","shadowSize","shadowAnchor","iconSize","SinglProject2","showDate","project","startAt","class","getStepsMedia","i","j","k","steps_media","Steps","push","id","imageData","videoData","changeActiveTab1","setState","activeTab1","activeTab2","activeTab3","changeActiveTab2","changeActiveTab3","setTimeout","showMap","reversedSteps","render","stepsMedia","match","params","project_id","axios","get","headers","i18n","language","data","console","log","bind","allMedia","renderContainer","t","project_images","imageUrl","steps","currentLocation","locationLat","locationLng","projectProgressAlign","dir","tabs_class","btn_class","timeline_class","Fragment","href","data-toggle","onClick","locationName","parse","description","textAlign","data-percent","Precision","projectProgress","donationProgress","getNumberWithComma","raised","goal","to","display","lineColor","step","key","dateText","indexOf","color","background","text","Map","center","zoom","TileLayer","Marker","position","Popup","withTranslation"],"mappings":"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","file":"static/js/18.9cde94fc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/venue_location_icon.bd6f36a3.svg\";","import React, { Component } from \"react\";\r\nimport Carousel from \"@brainhubeu/react-carousel\";\r\nimport address from \"../utils/address\";\r\n\r\nimport \"@brainhubeu/react-carousel/lib/style.css\";\r\nclass Slider extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { images: this.props.images };\r\n  }\r\n  render() {\r\n    return (\r\n      <Carousel\r\n        slidesPerScroll={1}\r\n        autoPlay={6000}\r\n        rtl\r\n        arrowLeft={\r\n          <i className=\"fa fa-chevron-right fa-2x\" style={{ margin: \"10px\" }} />\r\n        }\r\n        arrowRight={\r\n          <i className=\"fa fa-chevron-left fa-2x\" style={{ margin: \"10px\" }} />\r\n        }\r\n        addArrowClickHandler\r\n        // animationSpeed={1000}\r\n        infinite\r\n        clickToChange\r\n        centered\r\n        breakpoints={{\r\n          1000: {\r\n            // these props will be applied when screen width is less than 1000px\r\n            slidesPerPage: 2,\r\n            clickToChange: false,\r\n            centered: false,\r\n\r\n            infinite: false,\r\n          },\r\n          500: {\r\n            slidesPerPage: 1,\r\n            slidesPerScroll: 1,\r\n            clickToChange: false,\r\n            centered: false,\r\n            animationSpeed: 2000,\r\n            infinite: false,\r\n          },\r\n        }}\r\n      >\r\n        {this.state.images.map((image) => (\r\n          <div\r\n            className=\"post-thumb thumb\"\r\n            style={{ maxHeight: \"400px\", width: \"100%\" }}\r\n          >\r\n            <img\r\n              src={`${address()}projects/${image.name}/image`}\r\n              alt=\"project image\"\r\n              width=\"500\"\r\n              className=\"img-responsive\"\r\n              style={{ height: \"400px\", width: \"100%\" }}\r\n            />\r\n          </div>\r\n        ))}\r\n      </Carousel>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Slider;\r\n","import React, { Component } from \"react\";\r\nimport Carousel from \"@brainhubeu/react-carousel\";\r\nimport address from \"../utils/address\";\r\nimport ReactPlayer from \"react-player\";\r\nimport \"@brainhubeu/react-carousel/lib/style.css\";\r\nclass StepSlider extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { media: this.props.media };\r\n  }\r\n  render() {\r\n    const media = this.state.media.media;\r\n\r\n    if (media.length > 0) {\r\n      return (\r\n        <Carousel\r\n          slidesPerScroll={1}\r\n          // autoPlay={6000}\r\n          rtl\r\n          arrowLeft={\r\n            <i\r\n              className=\"fa fa-chevron-right fa-2x\"\r\n              style={{ marginLeft: \"10px\" }}\r\n            />\r\n          }\r\n          arrowRight={\r\n            <i\r\n              className=\"fa fa-chevron-left fa-2x\"\r\n              style={{ marginRight: \"10px\" }}\r\n            />\r\n          }\r\n          addArrowClickHandler\r\n          // animationSpeed={1000}\r\n          infinite\r\n          clickToChange\r\n          centered\r\n          breakpoints={{\r\n            1000: {\r\n              // these props will be applied when screen width is less than 1000px\r\n              slidesPerPage: 1,\r\n              clickToChange: false,\r\n              centered: false,\r\n\r\n              infinite: false,\r\n            },\r\n            500: {\r\n              slidesPerPage: 1,\r\n              slidesPerScroll: 1,\r\n              clickToChange: false,\r\n              centered: false,\r\n              animationSpeed: 2000,\r\n              infinite: false,\r\n            },\r\n          }}\r\n        >\r\n          {media.map((mediaItem) => (\r\n            <div className=\"post-thumb thumb\" style={{ margin: \"20px 0\" }}>\r\n              {mediaItem.type === \"img\" ? (\r\n                <img\r\n                  src={`${address()}projects/step/${mediaItem.item.name}/image`}\r\n                  alt=\"project image\"\r\n                />\r\n              ) : (\r\n                <div>\r\n                  <ReactPlayer\r\n                    controls={true}\r\n                    playIcon\r\n                    className=\"img-fullwidth img-carousel\"\r\n                    url={`${address()}projects/step/${\r\n                      mediaItem.item.name\r\n                    }/video`}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </Carousel>\r\n      );\r\n    } else return null;\r\n  }\r\n}\r\n\r\nexport default StepSlider;\r\n","import L from \"leaflet\";\r\nexport const VenueLocationIcon = L.icon({\r\n  iconUrl: require(\"../images/venue_location_icon.svg\"),\r\n  iconRetinaUrl: require(\"../images//venue_location_icon.svg\"),\r\n  iconAnchor: null,\r\n  shadowUrl: null,\r\n  shadowSize: null,\r\n  shadowAnchor: null,\r\n  iconSize: [35, 35],\r\n  className: \"leaflet-venue-icon\",\r\n});\r\n","import React, { Component } from \"react\";\r\nimport address from \"../utils/address\";\r\nimport axios from \"axios\";\r\nimport i18n from \"i18next\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport \"@brainhubeu/react-carousel/lib/style.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getNumberWithComma, Precision } from \"../events/getMonthName\";\r\nimport parse from \"html-react-parser\";\r\nimport { Timeline, TimelineItem } from \"vertical-timeline-component-for-react\";\r\nimport Slider from \"./slider\";\r\nimport StepSlider from \"./step_slider\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { Map, TileLayer, Popup, Marker } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport { VenueLocationIcon } from \"./VenueLocationIcon\";\r\n\r\n/**\r\n * This Component display project information like (carousal of images , name , discription ...)\r\n * @component\r\n * @see http://sadagaat-uk.org/single-projects/1944\r\n */\r\n\r\nclass SinglProject2 extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      project: [],\r\n      Steps: [],\r\n      reversedSteps: [],\r\n      render: false,\r\n      stepsMedia: [],\r\n      activeTab1: \"active\",\r\n      activeTab2: \"\",\r\n      activeTab3: \"\",\r\n      showMap: false,\r\n    };\r\n  }\r\n  /**\r\n   * return project from API\r\n   */\r\n  async componentDidMount() {\r\n    // get projct id from url\r\n    let id = this.props.match.params.project_id;\r\n    try {\r\n      const { data: project } = await axios.get(`${address()}projects/${id}`, {\r\n        headers: { \"accept-language\": `${i18n.language}` },\r\n      });\r\n      this.setState({ project });\r\n    } catch (error) {\r\n      console.log(\"can not load project for the home page slider\");\r\n    }\r\n\r\n    try {\r\n      const { data: Steps } = await axios.get(\r\n        `${address()}projects/step/${id}`,\r\n        {\r\n          headers: { \"accept-language\": `${i18n.language}` },\r\n        }\r\n      );\r\n      this.setState({ Steps });\r\n      console.log(this.state.Steps);\r\n    } catch (error) {\r\n      console.log(\"can not load project for the home page slider\");\r\n    }\r\n    this.setState({ stepsMedia: this.getStepsMedia() });\r\n    // this.setState({ reversedSteps: this.getReversedSteps() });\r\n\r\n    setTimeout(\r\n      function () {\r\n        this.setState({ render: true });\r\n      }.bind(this),\r\n      10\r\n    );\r\n  }\r\n\r\n  /**\r\n   * returned project when recive prpos like language 'ar' , 'en'\r\n   */\r\n  async componentWillReceiveProps() {\r\n    let id = this.props.match.params.project_id;\r\n\r\n    try {\r\n      const { data: project } = await axios.get(`${address()}projects/${id}`, {\r\n        headers: { \"accept-language\": `${i18n.language}` },\r\n      });\r\n      this.setState({ project });\r\n    } catch (error) {\r\n      console.log(\"can not load project for the home page slider\");\r\n    }\r\n\r\n    try {\r\n      const { data: Steps } = await axios.get(\r\n        `${address()}projects/step/${id}`,\r\n        {\r\n          headers: { \"accept-language\": `${i18n.language}` },\r\n        }\r\n      );\r\n      this.setState({ Steps });\r\n      console.log(this.state.Steps);\r\n    } catch (error) {\r\n      console.log(\"can not load project for the home page slider\");\r\n    }\r\n\r\n    this.setState({ stepsMedia: this.getStepsMedia() });\r\n    // this.setState({ reversedSteps: this.getReversedSteps() });\r\n  }\r\n\r\n  showDate = () => {\r\n    if (this.state.project.startAt === null) return null;\r\n    else\r\n      return (\r\n        <h5 class=\"font-weight-600 text-gray-dimgray d-inline\">\r\n          <i className=\"fa fa-calendar m-5\"></i>\r\n          <span className=\"\">{this.state.project.startAt}</span>\r\n        </h5>\r\n      );\r\n  };\r\n\r\n  getStepsMedia = () => {\r\n    let steps_media = [];\r\n    let i, j, k;\r\n    for (i = 0; i < this.state.Steps.length; i++) {\r\n      steps_media.push({ id: i, media: [] });\r\n      for (j = 0; j < this.state.Steps[i].imageData.length; j++) {\r\n        steps_media[i].media.push({\r\n          item: this.state.Steps[i].imageData[j],\r\n          type: \"img\",\r\n        });\r\n      }\r\n      for (k = 0; k < this.state.Steps[i].videoData.length; k++) {\r\n        steps_media[i].media.push({\r\n          item: this.state.Steps[i].videoData[k],\r\n          type: \"vid\",\r\n        });\r\n      }\r\n    }\r\n    return steps_media;\r\n  };\r\n\r\n  changeActiveTab1 = () => {\r\n    this.setState({ activeTab1: \"active\", activeTab2: \"\", activeTab3: \"\" });\r\n  };\r\n\r\n  changeActiveTab2 = () => {\r\n    this.setState({ activeTab1: \"\", activeTab2: \"active\", activeTab3: \"\" });\r\n  };\r\n\r\n  changeActiveTab3 = () => {\r\n    this.setState({ activeTab1: \"\", activeTab2: \"\", activeTab3: \"active\" });\r\n    setTimeout(() => {\r\n      this.setState({ showMap: true });\r\n    }, 1000);\r\n  };\r\n\r\n  render() {\r\n    let allMedia = this.state.stepsMedia;\r\n    let renderContainer = false;\r\n    if (this.state.render) {\r\n      const { t } = this.props;\r\n      const { project } = this.state;\r\n\r\n      const project_images = project.images;\r\n      let projectImages = [];\r\n      //push default project image to array of images\r\n      if (project.imageUrl !== null) {\r\n        projectImages.push({\r\n          id: project.id,\r\n          name: project.id,\r\n        });\r\n      }\r\n\r\n      let steps = this.state.Steps;\r\n      let currentLocation = [project.locationLat, project.locationLng];\r\n      let zoom = 9;\r\n      const projectProgressAlign = i18n.dir() === \"rtl\" ? \"right\" : \"left\";\r\n      const tabs_class = i18n.dir() === \"rtl\" ? \"float-right\" : \"float-left\";\r\n      const btn_class = i18n.dir() === \"rtl\" ? \"float-left\" : \"float-right\";\r\n      const timeline_class = i18n.dir() === \"rtl\" ? \"timeline_ar\" : \"\";\r\n\r\n      renderContainer = (\r\n        <React.Fragment>\r\n          <div className=\"main-content\">\r\n            <section>\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-12\">\r\n                    <h2 class=\"line-bottom mt-0\">{project.name}</h2>\r\n                    <ul className=\"nav nav-tabs\">\r\n                      <li className={this.state.activeTab1 + \" \" + tabs_class}>\r\n                        <a\r\n                          href=\"#login-tab\"\r\n                          data-toggle=\"tab\"\r\n                          id=\"login\"\r\n                          onClick={this.changeActiveTab1}\r\n                        >\r\n                          {t(\"Project Details\")}\r\n                        </a>\r\n                      </li>\r\n                      <li className={this.state.activeTab2 + \" \" + tabs_class}>\r\n                        <a\r\n                          href=\"#register-tab\"\r\n                          data-toggle=\"tab\"\r\n                          onClick={this.changeActiveTab2}\r\n                        >\r\n                          {t(\"Project Timeline\")}\r\n                        </a>\r\n                      </li>\r\n                      <li className={this.state.activeTab3 + \" \" + tabs_class}>\r\n                        <a\r\n                          href=\"#location-tab\"\r\n                          data-toggle=\"tab\"\r\n                          onClick={this.changeActiveTab3}\r\n                        >\r\n                          {t(\"Project Map\")}\r\n                        </a>\r\n                      </li>\r\n                    </ul>\r\n                    <div className=\"tab-content\">\r\n                      <div\r\n                        className=\"tab-pane fade in active p-15\"\r\n                        id=\"login-tab\"\r\n                      >\r\n                        <div className=\" media sm-maxwidth400 mt-5 mb-0 pt-10 pb-15\">\r\n                          <div className=\"row\">\r\n                            <div className=\"causes\">\r\n                              <div className=\"row-fluid\">\r\n                                <div className=\"col-md-6\">\r\n                                  {/* check if peoject image array has more than defualte image */}\r\n                                  {project_images.length > 1 ? (\r\n                                    <Slider images={project_images}></Slider>\r\n                                  ) : (\r\n                                    <div\r\n                                      className=\"post-thumb thumb\"\r\n                                      style={{ maxHeight: \"400px\" }}\r\n                                    >\r\n                                      <img\r\n                                        src={`${address()}projects/${\r\n                                          project.id\r\n                                        }/image`}\r\n                                        alt=\"project image\"\r\n                                        className=\"img-responsive mb-10\"\r\n                                      />\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                                <div class=\"causes-details col-md-6\">\r\n                                  <h5 class=\"font-weight-600 text-gray-dimgray d-inline\">\r\n                                    <i className=\"fa fa-map-marker m-5\"></i>\r\n                                    <span className=\"\">\r\n                                      {project.locationName}\r\n                                    </span>\r\n                                  </h5>\r\n                                  {this.showDate()}\r\n                                  <div className=\"mb-5\">\r\n                                    {parse(project.description)}\r\n                                  </div>\r\n                                  <div className=\"progress-item mt-0\">\r\n                                    <p\r\n                                      className=\"text-theme-colored font-weight-700\"\r\n                                      style={{\r\n                                        textAlign: projectProgressAlign,\r\n                                      }}\r\n                                    >\r\n                                      {t(\"Project Progress\")}\r\n                                    </p>\r\n                                    <div className=\"progress\">\r\n                                      <div\r\n                                        data-percent={Precision(\r\n                                          project.projectProgress\r\n                                        )}\r\n                                        className=\"progress-bar\"\r\n                                      >\r\n                                        <span className=\"percent\">\r\n                                          {Precision(project.projectProgress)}%\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"progress-item mt-2\">\r\n                                    <div className=\"progress mb-0\">\r\n                                      <div\r\n                                        data-percent={Precision(\r\n                                          project.donationProgress\r\n                                        )}\r\n                                        className=\"progress-bar\"\r\n                                      >\r\n                                        <span className=\"percent\">\r\n                                          {Precision(project.donationProgress)}%\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div class=\"mt-10 mb-20\">\r\n                                    <ul class=\"list-inline clearfix mt-10\">\r\n                                      <li class=\"pull-left flip pr-0\">\r\n                                        {\" \"}\r\n                                        {t(\"Raised\")}{\" \"}\r\n                                        <span class=\"font-weight-700 font-\">\r\n                                          {getNumberWithComma(project.raised)}\r\n                                        </span>\r\n                                      </li>\r\n                                      <li class=\"text-theme-colored pull-right flip pr-0\">\r\n                                        {t(\"Goals\")}\r\n                                        <span class=\"font-weight-700\">\r\n                                          {getNumberWithComma(project.goal)}\r\n                                        </span>\r\n                                      </li>\r\n                                    </ul>\r\n                                  </div>\r\n                                  <Link\r\n                                    to={\"/projects/\" + project.id}\r\n                                    class=\"btn btn-theme-colored btn-sm\"\r\n                                    style={{\r\n                                      display: `\r\n                                ${\r\n                                  project.donationProgress >= 100 ? \"none\" : \"\"\r\n                                }`,\r\n                                    }}\r\n                                  >\r\n                                    {t(\"Donate Now\")}\r\n                                  </Link>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"tab-pane fade in p-15\" id=\"register-tab\">\r\n                        {steps.length > 0 ? (\r\n                          <div>\r\n                            <Timeline\r\n                              lineColor={\"#ddd\"}\r\n                              className={timeline_class}\r\n                            >\r\n                              {steps.map((step) => (\r\n                                <TimelineItem\r\n                                  key={step.id}\r\n                                  dateText={\r\n                                    t(\"Phase\") +\r\n                                    \" \" +\r\n                                    (steps.indexOf(step, 0) + 1)\r\n                                  }\r\n                                  style={{\r\n                                    color: \"#243f60\",\r\n                                    background: \"#243f60\",\r\n                                  }}\r\n                                >\r\n                                  <p>{parse(step.text)}</p>\r\n                                  <div className=\"slider-container\">\r\n                                    {allMedia[this.state.Steps.indexOf(step, 0)]\r\n                                      .media.length === 1 ? (\r\n                                      <div\r\n                                        className=\"post-thumb thumb\"\r\n                                        style={{ margin: \"20px 0\" }}\r\n                                      >\r\n                                        {allMedia[\r\n                                          this.state.Steps.indexOf(step, 0)\r\n                                        ].media[0].type === \"img\" ? (\r\n                                          <img\r\n                                            src={`${address()}projects/step/${\r\n                                              allMedia[\r\n                                                this.state.Steps.indexOf(\r\n                                                  step,\r\n                                                  0\r\n                                                )\r\n                                              ].media[0].item.name\r\n                                            }/image`}\r\n                                            alt=\"project image\"\r\n                                          />\r\n                                        ) : (\r\n                                          <ReactPlayer\r\n                                            controls={true}\r\n                                            playIcon\r\n                                            className=\"img-fullwidth img-carousel\"\r\n                                            url={`${address()}projects/step/${\r\n                                              allMedia[\r\n                                                this.state.Steps.indexOf(\r\n                                                  step,\r\n                                                  0\r\n                                                )\r\n                                              ].media[0].item.name\r\n                                            }/video`}\r\n                                          />\r\n                                        )}\r\n                                      </div>\r\n                                    ) : (\r\n                                      <StepSlider\r\n                                        media={\r\n                                          allMedia[\r\n                                            this.state.Steps.indexOf(step, 0)\r\n                                          ]\r\n                                        }\r\n                                      ></StepSlider>\r\n                                    )}\r\n                                  </div>\r\n                                </TimelineItem>\r\n                              ))}\r\n                            </Timeline>\r\n                            <div className=\"mb-20\">\r\n                              <Link\r\n                                to={\"/projects/\" + project.id}\r\n                                class={\r\n                                  \"btn btn-theme-colored btn-sm mb-20 \" +\r\n                                  btn_class\r\n                                }\r\n                                style={{\r\n                                  display: `\r\n                                ${\r\n                                  project.donationProgress >= 100 ? \"none\" : \"\"\r\n                                }`,\r\n                                }}\r\n                              >\r\n                                {t(\"Donate Now\")}\r\n                              </Link>\r\n                            </div>\r\n                          </div>\r\n                        ) : (\r\n                          <h4>{t(\"No Project Timeline\")}</h4>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"tab-pane fade in p-15\" id=\"location-tab\">\r\n                        <div className=\"row\">\r\n                          {project.locationLat != 0.0 &&\r\n                          project.locationLng != 0.0 ? (\r\n                            <div id=\"LocationMap\">\r\n                              {this.state.showMap ? (\r\n                                <React.Fragment>\r\n                                  <Map center={currentLocation} zoom={zoom}>\r\n                                    <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n                                    <Marker\r\n                                      position={currentLocation}\r\n                                      icon={VenueLocationIcon}\r\n                                    >\r\n                                      <Popup>\r\n                                        <div className=\"poup-text\">\r\n                                          <h6>{project.name}</h6>\r\n                                          <p>{project.locationName}</p>\r\n                                        </div>\r\n                                      </Popup>\r\n                                    </Marker>\r\n                                  </Map>\r\n                                  <div className=\"mt-20\">\r\n                                    <Link\r\n                                      to={\"/projects/\" + project.id}\r\n                                      class={\r\n                                        \"btn btn-theme-colored btn-sm mb-20 \" +\r\n                                        btn_class\r\n                                      }\r\n                                      style={{\r\n                                        display: `\r\n                                ${\r\n                                  project.donationProgress >= 100 ? \"none\" : \"\"\r\n                                }`,\r\n                                      }}\r\n                                    >\r\n                                      {t(\"Donate Now\")}\r\n                                    </Link>\r\n                                  </div>\r\n                                </React.Fragment>\r\n                              ) : (\r\n                                <p className=\"text-center\">\r\n                                  {t(\"Loading Map\")}\r\n                                </p>\r\n                              )}\r\n                            </div>\r\n                          ) : (\r\n                            <h4>{t(\"Map not available\")}</h4>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          </div>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n    return renderContainer;\r\n  }\r\n}\r\nexport default withTranslation()(SinglProject2);\r\n"],"sourceRoot":""}