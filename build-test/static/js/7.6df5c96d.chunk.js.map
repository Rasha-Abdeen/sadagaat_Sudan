{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/Donation/DonationTable.js","components/Donation/DonateToProject.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","DonationTable","t","useTranslation","class","scope","DonateToProject","props","handleChange","e","setState","target","name","handleSubmite","preventDefault","data","pid","state","project_id","amount","currency","console","log","loading","axios","post","address","then","response","responseCode","window","location","paymentUrl","setTimeout","message","iconClass","styleClass","donateTo","catch","err","match","params","hubId","project","id","this","get","headers","i18n","language","error","alert","className","style","margin","role","onSubmit","type","fontSize","readonly","required","min","onChange","onInvalid","setCustomValidity","onInput","data-loading-text","Component","withTranslation"],"mappings":"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","file":"static/js/7.6df5c96d.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React from 'react'\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n\r\n function DonationTable(){\r\n\r\n    const { t } = useTranslation();\r\n\r\n     return(\r\n         \r\n        <div class=\"col-xs-12 col-sm-12 col-md-7\">\r\n        <h3 class=\"mt-0 line-bottom\">{t('Donate Through Banks')}</h3>\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-bordered\">\r\n            <thead>\r\n              <tr>\r\n                <th>{t('Bank')}</th>\r\n                <th>{t('Branch')}</th>\r\n                <th>{t('Account No')}</th>\r\n              </tr>\r\n            </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td scope=\"col\">{t('Khartoum Bank')}</td>\r\n                    <td>{t('Reyadh')}</td>\r\n                    <td>1290129</td>\r\n                  </tr>\r\n                  <tr>\r\n                 <td scope=\"row\">{t('Abu- Dhabi National Bank')}</td>\r\n                    <td>{t('Headquarters')}</td>\r\n                    <td>891624</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Export Developing Bank')}</td>\r\n                    <td>{t('Al-Sajana')}</td>\r\n                    <td>4765</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Neelain Bank')}</td>\r\n                    <td>{t('Al-Namozaji')}</td>\r\n                    <td>5032</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Salam Bank')}</td>\r\n                    <td>{t('Al-Matar')}</td>\r\n                    <td>305250</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Nile Bank')}</td>\r\n                    <td>{t('Al-Amaraat')}</td>\r\n                    <td>2654</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Saudi Bank')}</td>\r\n                    <td>{t('Al-Amaraat')}</td>\r\n                    <td>14195</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Faisal Islamic Bank')}</td>\r\n                    <td>{t('Barlaman')}</td>\r\n                    <td>12300123</td>\r\n                  </tr>\r\n                </tbody>\r\n          </table>\r\n      </div>\r\n    </div>\r\n\r\n     )\r\n }export default DonationTable;","import React, { useState, useEffect, Component } from \"react\";\r\nimport Header from \"../sub_page_header\";\r\nimport address from \"../utils/address\";\r\nimport axios from \"axios\";\r\nimport { render } from \"@testing-library/react\";\r\nimport i18n from \"i18next\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport DonationTable from \"./DonationTable\";\r\n/**\r\n * This component display donation to hup page\r\n * * @param {string} props Project Id\r\n * @component\r\n */\r\nclass DonateToProject extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // Get Project ID from Props\r\n      project_id: this.props.match.params.hubId,\r\n      amount: 0,\r\n      message: \"\",\r\n      iconClass: \"\",\r\n      styleClass: \"\",\r\n      loading: false,\r\n      currency: \"SDG\",\r\n      project: [],\r\n    };\r\n  }\r\n  async componentDidMount() {\r\n    let id = this.props.match.params.project_id;\r\n    this.setState({ project_id: id });\r\n    await axios\r\n      .get(`${address()}projects/${id}`, {\r\n        headers: { \"accept-language\": `${i18n.language}` },\r\n      })\r\n\r\n      .then((response) => {\r\n        const project = response.data;\r\n        this.setState({ project });\r\n      })\r\n      .catch((error) => {\r\n        alert(error.message);\r\n      });\r\n  }\r\n  async componentWillReceiveProps() {\r\n    let id = this.state.project_id;\r\n    axios\r\n      .get(`${address()}projects/${id}`, {\r\n        headers: { \"accept-language\": `${i18n.language}` },\r\n      })\r\n\r\n      .then((response) => {\r\n        const project = response.data;\r\n        this.setState({ project });\r\n      })\r\n      .catch((error) => {\r\n        alert(error.message);\r\n      });\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmite = (e) => {\r\n    e.preventDefault();\r\n    let id = this.state.project_id;\r\n    const data = {\r\n      pid: id,\r\n      amount: this.state.amount,\r\n      currency: this.state.currency,\r\n    };\r\n    console.log(data);\r\n    this.setState({ loading: true });\r\n    axios\r\n      .post(`${address()}donate`, data)\r\n      /** syberPay payment feedback */\r\n      .then((response) => {\r\n        if (response.data.responseCode === 1) {\r\n          window.location = response.data.paymentUrl;\r\n\r\n          setTimeout(() => {\r\n            this.setState({ loading: false });\r\n          }, 2000);\r\n        } else if (response.data.responseCode === 2) {\r\n          this.setState({\r\n            message: \"Please Enter Valid Amount\",\r\n            iconClass: \"fa fa-times-circle\",\r\n            styleClass: \"error-msg\",\r\n            donateTo: \"Sadagaat\",\r\n          });\r\n        } else {\r\n          this.setState({\r\n            message: \"something went wrong try again later\",\r\n            iconClass: \"fa fa-times-circle\",\r\n            styleClass: \"error-msg\",\r\n            donateTo: \"Sadagaat\",\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ loading: true });\r\n        let message;\r\n        if (err.message === \"Network Error\") message = \"Network Error\";\r\n        else message = \"something went wrong try again later\";\r\n        setTimeout(() => {\r\n          this.setState({\r\n            loading: false,\r\n            message: message,\r\n            iconClass: \"fa fa-times-circle\",\r\n            styleClass: \"error-msg\",\r\n          });\r\n        }, 2000);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { t } = this.props;\r\n    const loading = this.state.loading;\r\n\r\n    return (\r\n      <div>\r\n        <Header name={t(\"Donate\")} />\r\n\r\n        <section>\r\n          <div class=\"container\">\r\n            <div class=\"section-content\">\r\n              <div class=\"row\">\r\n                <div class=\"col-xs-12 col-sm-12 col-md-5\">\r\n                  <h3 class=\"mt-0 line-bottom\">\r\n                    {t(\"Donate Through SyberPay\")}\r\n                    <span class=\"font-weight-300\"></span>\r\n                  </h3>\r\n                  <p className={this.state.styleClass}>\r\n                    <i\r\n                      className={this.state.iconClass}\r\n                      style={{ margin: \"5px\" }}\r\n                    ></i>\r\n                    {t(this.state.message)}\r\n                  </p>\r\n                  <form\r\n                    // data-toggle=\"validator\"\r\n                    role=\"form\"\r\n                    id=\"popup_paypal_donate_form_onetime_recurring\"\r\n                    onSubmit={this.handleSubmite}\r\n                  >\r\n                    <div className=\"row\">\r\n                      <div className=\"col-sm-12\">\r\n                        <div className=\"form-group mb-20\">\r\n                          <input\r\n                            name=\"name\"\r\n                            className=\"form-control\"\r\n                            type=\"readOnly\"\r\n                            value={this.state.project.name}\r\n                            style={{ fontSize: \"16px\" }}\r\n                            readonly\r\n                            required\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                      <div className=\"col-sm-9\">\r\n                        <div className=\"form-group mb-20\">\r\n                          <label>\r\n                            <strong>\r\n                              {t(\"How much do you want to donate?\")}\r\n                            </strong>\r\n                          </label>\r\n\r\n                          <input\r\n                            name=\"amount\"\r\n                            className=\"form-control\"\r\n                            type=\"number\"\r\n                            min=\"1\"\r\n                            onChange={this.handleChange}\r\n                            onInvalid={function (e) {\r\n                              e.target.setCustomValidity(\r\n                                t(\"Enter a valid amount\")\r\n                              );\r\n                            }}\r\n                            onInput={function (e) {\r\n                              e.target.setCustomValidity(t(\"\"));\r\n                            }}\r\n                            required\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-sm-3\">\r\n                        <div className=\"form-group mb-20\">\r\n                          <label>\r\n                            <strong>\r\n                              {\" \"}\r\n                              <br />{\" \"}\r\n                            </strong>\r\n                          </label>\r\n\r\n                          <select\r\n                            name=\"currency\"\r\n                            className=\"form-control\"\r\n                            onChange={this.handleChange}\r\n                          >\r\n                            <option name=\"currency\">SDG</option>\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-sm-12\">\r\n                      <div className=\"form-group\">\r\n                        <button\r\n                          type=\"submit\"\r\n                          className=\"btn btn-flat btn-dark btn-theme-colored mt-10 pl-30 pr-30\"\r\n                          data-loading-text=\"Please wait...\"\r\n                        >\r\n                          {loading && (\r\n                            <i\r\n                              className=\"fa fa-spinner fa-spin\"\r\n                              style={{ margin: \"5px\" }}\r\n                            />\r\n                          )}\r\n                          {t(\"Donate\")} {t(\"Now!\")}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n                <DonationTable />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation()(DonateToProject);\r\n"],"sourceRoot":""}