{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/Donation/DonationTable.js","components/Donation/donate.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","DonationTable","t","useTranslation","class","scope","Donate","props","handleFormErrorMessage","e","message","target","setCustomValidity","handleChange","setState","name","handleSubmite","preventDefault","data","hid","state","id","amount","currency","loading","axios","post","address","then","response","responseCode","window","location","paymentUrl","setTimeout","iconClass","styleClass","donateTo","catch","err","hubs","render","get","headers","i18n","language","error","console","log","this","bind","className","style","margin","role","onSubmit","onChange","onInvalid","onInput","required","map","hub","type","min","data-loading-text","Component","withTranslation"],"mappings":"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","file":"static/js/9.b2291d6c.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React from 'react'\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n\r\n function DonationTable(){\r\n\r\n    const { t } = useTranslation();\r\n\r\n     return(\r\n         \r\n        <div class=\"col-xs-12 col-sm-12 col-md-7\">\r\n        <h3 class=\"mt-0 line-bottom\">{t('Donate Through Banks')}</h3>\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-bordered\">\r\n            <thead>\r\n              <tr>\r\n                <th>{t('Bank')}</th>\r\n                <th>{t('Branch')}</th>\r\n                <th>{t('Account No')}</th>\r\n              </tr>\r\n            </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td scope=\"col\">{t('Khartoum Bank')}</td>\r\n                    <td>{t('Reyadh')}</td>\r\n                    <td>1290129</td>\r\n                  </tr>\r\n                  <tr>\r\n                 <td scope=\"row\">{t('Abu- Dhabi National Bank')}</td>\r\n                    <td>{t('Headquarters')}</td>\r\n                    <td>891624</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Export Developing Bank')}</td>\r\n                    <td>{t('Al-Sajana')}</td>\r\n                    <td>4765</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Neelain Bank')}</td>\r\n                    <td>{t('Al-Namozaji')}</td>\r\n                    <td>5032</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Salam Bank')}</td>\r\n                    <td>{t('Al-Matar')}</td>\r\n                    <td>305250</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Nile Bank')}</td>\r\n                    <td>{t('Al-Amaraat')}</td>\r\n                    <td>2654</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Saudi Bank')}</td>\r\n                    <td>{t('Al-Amaraat')}</td>\r\n                    <td>14195</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Faisal Islamic Bank')}</td>\r\n                    <td>{t('Barlaman')}</td>\r\n                    <td>12300123</td>\r\n                  </tr>\r\n                </tbody>\r\n          </table>\r\n      </div>\r\n    </div>\r\n\r\n     )\r\n }export default DonationTable;","import React, { useState, useEffect, Component } from \"react\";\r\nimport Header from \"../sub_page_header\";\r\nimport address from \"./../utils/address\";\r\nimport axios from \"axios\";\r\nimport { render } from \"@testing-library/react\";\r\nimport i18n from \"i18next\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport DonationTable from \"./DonationTable\";\r\n\r\n/**\r\n * This component display donation page  when you click button on the home page\r\n * @see http://sadagaat-uk.org/donate\r\n * @component\r\n */\r\nclass Donate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: null,\r\n      amount: \"\",\r\n      currency: \"SDG\",\r\n      message: \"\",\r\n      iconClass: \"\",\r\n      styleClass: \"\",\r\n      loading: false,\r\n      hubs: [],\r\n      render: false,\r\n    };\r\n  }\r\n  /**\r\n   * Get hub list from API\r\n   */\r\n  async componentDidMount() {\r\n    await axios\r\n      .get(`${address()}hubs`, {\r\n        headers: { \"accept-language\": `${i18n.language}` },\r\n      })\r\n      .then((response) => {\r\n        const hubs = response.data;\r\n        this.setState({ hubs });\r\n      })\r\n\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    setTimeout(\r\n      function () {\r\n        this.setState({ render: true });\r\n      }.bind(this),\r\n      10\r\n    );\r\n  }\r\n  /**\r\n   * Get hub when language cahangeed\r\n   */\r\n  async componentWillReceiveProps() {\r\n    axios\r\n      .get(`${address()}hubs`, {\r\n        headers: { \"accept-language\": `${i18n.language}` },\r\n      })\r\n      .then((response) => {\r\n        const hubs = response.data;\r\n        this.setState({ hubs });\r\n      })\r\n\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} e event of input field\r\n   * @param {String} message  message custom validation message\r\n   */\r\n  handleFormErrorMessage = (e, message = \"\") => {\r\n    const { t } = this.props;\r\n\r\n    if (e.target.value === \"\" && message === \"\")\r\n      e.target.setCustomValidity(t(\"select a hub from the list\"));\r\n    else e.target.setCustomValidity(message);\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmite = (e) => {\r\n    e.preventDefault();\r\n    const id = this.state.id;\r\n\r\n    const data = {\r\n      hid: id,\r\n      amount: this.state.amount,\r\n      currency: this.state.currency,\r\n    };\r\n    this.setState({ loading: true });\r\n    axios\r\n      .post(`${address()}donate`, data)\r\n\r\n      /** syber bay payment feedback */\r\n\r\n      .then((response) => {\r\n        if (response.data.responseCode === 1) {\r\n          window.location = response.data.paymentUrl;\r\n\r\n          setTimeout(() => {\r\n            this.setState({ loading: false });\r\n          }, 2000);\r\n        } else if (response.data.responseCode === 2) {\r\n          this.setState({\r\n            message: \"Please Enter Valid Amount\",\r\n            iconClass: \"fa fa-times-circle\",\r\n            styleClass: \"error-msg\",\r\n            donateTo: \"Sadagaat\",\r\n          });\r\n        } else {\r\n          this.setState({\r\n            message: \"something went wrong try again later\",\r\n            iconClass: \"fa fa-times-circle\",\r\n            styleClass: \"error-msg\",\r\n            donateTo: \"Sadagaat\",\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ loading: true });\r\n\r\n        let message;\r\n\r\n        if (err.message === \"Network Error\") message = \"Network Error\";\r\n        else message = \"something went wrong try again later\";\r\n        setTimeout(() => {\r\n          this.setState({\r\n            loading: false,\r\n            message: message,\r\n            iconClass: \"fa fa-times-circle\",\r\n            styleClass: \"error-msg\",\r\n          });\r\n        }, 2000);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    let renderContainer = false;\r\n    const { t } = this.props;\r\n    const loading = this.state.loading;\r\n\r\n    return (\r\n      <div>\r\n        <Header name={t(\"Donate\")} />\r\n\r\n        <section>\r\n          <div class=\"container\">\r\n            <div class=\"section-content\">\r\n              <div class=\"row\">\r\n                <div class=\"col-xs-12 col-sm-12 col-md-5\">\r\n                  <h3 class=\"mt-0 line-bottom\">\r\n                    {t(\"Donate Through SyberPay\")}\r\n                    <span class=\"font-weight-300\"></span>\r\n                  </h3>\r\n                  <p className={this.state.styleClass}>\r\n                    <i\r\n                      className={this.state.iconClass}\r\n                      style={{ margin: \"5px\" }}\r\n                    ></i>\r\n                    {t(this.state.message)}\r\n                  </p>\r\n                  <form\r\n                    //data-toggle=\"validator\"\r\n                    role=\"form\"\r\n                    id=\"popup_paypal_donate_form_onetime_recurring\"\r\n                    onSubmit={this.handleSubmite}\r\n                  >\r\n                    <div className=\"row\">\r\n                      <div className=\"col-sm-12\">\r\n                        <div className=\"form-group mb-20\">\r\n                          <label>\r\n                            <strong>{t(\"I Want to Donate for\")}</strong>\r\n                          </label>\r\n\r\n                          <select\r\n                            name=\"id\"\r\n                            className=\"form-control\"\r\n                            onChange={this.handleChange}\r\n                            onInvalid={(e) => this.handleFormErrorMessage(e)}\r\n                            onInput={function (e) {\r\n                              e.target.setCustomValidity(t(\"\"));\r\n                            }}\r\n                            required\r\n                          >\r\n                            <option value=\"\">{t(\"Select Hub\")}...</option>\r\n                            {this.state.hubs.map((hub) => (\r\n                              <option key={hub.id} value={hub.id}>\r\n                                {hub.name}\r\n                              </option>\r\n                            ))}\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                      <div className=\"col-sm-9\">\r\n                        <div className=\"form-group mb-20\">\r\n                          <label>\r\n                            <strong>\r\n                              {t(\"How much do you want to donate?\")}\r\n                            </strong>\r\n                          </label>\r\n\r\n                          <input\r\n                            id=\"id\"\r\n                            name=\"amount\"\r\n                            className=\"form-control\"\r\n                            type=\"number\"\r\n                            min=\"1\"\r\n                            onChange={this.handleChange}\r\n                            onInvalid={(e) =>\r\n                              this.handleFormErrorMessage(\r\n                                e,\r\n                                t(\"Enter a valid amount\")\r\n                              )\r\n                            }\r\n                            onInput={function (e) {\r\n                              e.target.setCustomValidity(t(\"\"));\r\n                            }}\r\n                            required\r\n                          />\r\n\r\n                          <div className=\"help-block with-errors\"></div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-sm-3\">\r\n                        <div className=\"form-group mb-20\">\r\n                          <label>\r\n                            <strong>\r\n                              {\" \"}\r\n                              <br />{\" \"}\r\n                            </strong>\r\n                          </label>\r\n\r\n                          <select\r\n                            name=\"currency\"\r\n                            className=\"form-control\"\r\n                            onChange={this.handleChange}\r\n                          >\r\n                            <option name=\"currency\">SDG</option>\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-sm-12\">\r\n                      <div className=\"form-group\">\r\n                        <button\r\n                          type=\"submit\"\r\n                          className=\"btn btn-flat btn-dark btn-theme-colored mt-10 pl-30 pr-30\"\r\n                          data-loading-text=\"Please wait...\"\r\n                        >\r\n                          {loading && (\r\n                            <i\r\n                              className=\"fa fa-spinner fa-spin\"\r\n                              style={{ margin: \"5px\" }}\r\n                            />\r\n                          )}\r\n                          {t(\"Donate\")} {t(\"Now!\")}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n\r\n                <DonationTable />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation()(Donate);\r\n"],"sourceRoot":""}